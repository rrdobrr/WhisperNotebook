# WhisperTranscriber

Веб-приложение для транскрибации аудио/видео с AI-чатом и редактором текстов.

## Возможности

- Транскрибация аудио/видео (загрузка файлов или YouTube ссылок)
- Локальная транскрибация (faster-whisper) или через OpenAI API
- AI чат с разными моделями GPT
- Markdown редактор с автосаммаризацией
- Мониторинг затрат API
- Темная/светлая тема

## Развертывание на Railway

### 1. Подготовка

1. Зарегистрируйтесь на [GitHub](https://github.com) (если еще нет аккаунта)
2. Форкните этот репозиторий (кнопка **Fork** вверху справа)
3. Зарегистрируйтесь на [Railway](https://railway.app) через GitHub
4. Оплатите план **Hobby** ($5/месяц) - необходим для развертывания

### 2. Создание проекта

1. В Railway нажмите **New Project**
2. Выберите **Deploy from GitHub repo**
3. Выберите ваш форкнутый репозиторий `WhisperTranscriber`
4. Railway автоматически начнет сборку

### 3. Настройка Volume

В настройках проекта добавьте **Volume**:
- Mount Path: `/app/data`

Это необходимо для хранения базы данных и моделей между перезапусками.

### 4. Переменные окружения

В настройках проекта добавьте переменные:

#### Обязательные (для защиты паролем):

```
AUTH_USERNAME=admin
AUTH_PASSWORD=ваш_надежный_пароль
```

Если не установлены - приложение будет публично доступно без пароля.

#### Опциональные:

```
OPENAI_API_KEY=sk-...          # Для API транскрибации и AI чата
JWT_EXPIRATION_DAYS=30         # Срок действия сессии (по умолчанию 30)
```

### 5. Получение OpenAI API ключа

1. Зарегистрируйтесь на [platform.openai.com](https://platform.openai.com)
2. Перейдите в [API Keys](https://platform.openai.com/api-keys)
3. Нажмите **Create new secret key**
4. Скопируйте ключ (начинается с `sk-...`)
5. Добавьте баланс на аккаунт ($5-10 минимум)

**Примечание:** API ключ можно добавить позже через UI в настройках приложения.

### 6. Деплой

Railway автоматически:
- Обнаружит `Dockerfile` и `railway.toml`
- Соберет приложение (backend + frontend)
- Запустит на порту 8080
- Настроит health check на `/health`

Первый запуск займет ~5-10 минут (сборка Docker образа).

## Первый запуск

1. Откройте приложение по URL от Railway
2. Войдите с `AUTH_USERNAME` и `AUTH_PASSWORD`
3. Перейдите в **Настройки** → добавьте OpenAI API ключ (если нужен)

## Использование

### Транскрибация

1. **Главная страница** → загрузите файл или вставьте YouTube ссылку
2. Выберите метод:
   - **Локальный** - медленнее, приватно, без API ключа
   - **API** - быстрее, требует OpenAI ключ
3. Выберите язык → нажмите **Транскрибировать**
4. Следите за прогрессом на странице **Транскрипции**

### Редактирование

- Откройте текст → редактируйте в Markdown
- Кнопка **Саммаризировать** → автоматическое резюме через GPT
- Промпт можно изменить в **Настройки** → **Редактор промпта**

### AI Чат

- Создайте чат → выберите модель
- Прикрепите тексты перетаскиванием из боковой панели

## Технологии

- **Backend:** FastAPI, SQLAlchemy, SQLite, faster-whisper
- **Frontend:** React, Vite, TailwindCSS
- **Интеграции:** OpenAI API, yt-dlp, ffmpeg

## Лицензия

MIT

## Благодарности

- [faster-whisper](https://github.com/guillaumekln/faster-whisper) - быстрая локальная транскрибация
- [OpenAI](https://openai.com) - Whisper API и GPT модели
- [FastAPI](https://fastapi.tiangolo.com) - веб-фреймворк
- [React](https://react.dev) - UI библиотека
- [Anthropic Claude](https://claude.ai) - помощь в разработке проекта
